### docker-compose.yml
```yaml
# docker-compose.yml
version: '3.8'

services:
  # –ì–ª–∞–≤–Ω—ã–π —É–∑–µ–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  yb-master:
    image: yugabytedb/yugabyte:latest
    command:
      - "/home/yugabyte/bin/yb-master"
      - "--fs_data_dirs=/mnt/master"
      - "--master_addresses=yb-master:7100"
      - "--rpc_bind_addresses=yb-master:7100"
      - "--replication_factor=1"  # –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞!
    mem_limit: 1024m
    ports:
      - "7000:7000"  # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

  # –¢—Ä–∏ —É–∑–ª–∞ –¥–∞–Ω–Ω—ã—Ö (TServer)
  yb-tserver1:
    image: yugabytedb/yugabyte:latest
    command:
      - "/home/yugabyte/bin/yb-tserver"
      - "--fs_data_dirs=/mnt/tserver"
      - "--tserver_master_addrs=yb-master:7100"
      - "--rpc_bind_addresses=yb-tserver1:9100"
      - "--enable_ysql"
      - "--ysql_enable_auth=false"
      - "--pgsql_proxy_bind_address=0.0.0.0:5433"
    ports:
      - "5433:5433"  # PostgreSQL-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π –ø–æ—Ä—Ç
    depends_on:
      - yb-master
    mem_limit: 2048m  # –ú–∏–Ω–∏–º—É–º 2 –ì–ë!

  yb-tserver2:
    image: yugabytedb/yugabyte:latest
    command:
      - "/home/yugabyte/bin/yb-tserver"
      - "--fs_data_dirs=/mnt/tserver"
      - "--tserver_master_addrs=yb-master:7100"
      - "--rpc_bind_addresses=yb-tserver2:9100"
      - "--enable_ysql"
      - "--ysql_enable_auth=false"
    depends_on:
      - yb-master
    mem_limit: 2048m

  yb-tserver3:
    image: yugabytedb/yugabyte:latest
    command:
      - "/home/yugabyte/bin/yb-tserver"
      - "--fs_data_dirs=/mnt/tserver"
      - "--tserver_master_addrs=yb-master:7100"
      - "--rpc_bind_addresses=yb-tserver3:9100"
      - "--enable_ysql"
      - "--ysql_enable_auth=false"
    depends_on:
      - yb-master
    mem_limit: 2048m
```

### ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ú–∞—Å—Ç–µ—Ä–∞-—É–∑–ª–∞ (YB-Master)
–ú–∞—Å—Ç–µ—Ä ‚Äî —ç—Ç–æ ¬´–º–æ–∑–≥¬ª –∫–ª–∞—Å—Ç–µ—Ä–∞, –æ–Ω —É–ø—Ä–∞–≤–ª—è–µ—Ç **–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏**, –Ω–æ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ.

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–±—ä—è—Å–Ω–µ–Ω–∏–µ |
| :--- | :--- | :--- |
| `command: "/home/yugabyte/bin/yb-master"` | –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –º–∞—Å—Ç–µ—Ä–∞. | –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å YB-Master. |
| `--fs_data_dirs=/mnt/master` | –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –¥–∞–Ω–Ω—ã—Ö. | –ó–¥–µ—Å—å –º–∞—Å—Ç–µ—Ä —Ö—Ä–∞–Ω–∏—Ç —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∫–∞—Ç–∞–ª–æ–≥–∏ —Ç–∞–±–ª–∏—Ü, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–∞–±–ª–µ—Ç–∞—Ö). |
| `--master_addresses=yb-master:7100` | –°–ø–∏—Å–æ–∫ –∞–¥—Ä–µ—Å–æ–≤ –≤—Å–µ—Ö –º–∞—Å—Ç–µ—Ä–æ–≤ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ. | **–ö–ª—é—á–µ–≤–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∞ –º–∞—Å—Ç–µ—Ä–æ–≤.** –£ –Ω–∞—Å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –º–∞—Å—Ç–µ—Ä, –Ω–æ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ —É–∫–∞–∑—ã–≤–∞—é—Ç –∞–¥—Ä–µ—Å–∞ 3-5 –º–∞—Å—Ç–µ—Ä–æ–≤ –¥–ª—è –∫–≤–æ—Ä—É–º–∞. |
| `--rpc_bind_addresses=yb-master:7100` | IP –∏ –ø–æ—Ä—Ç –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ RPC-–æ–±—â–µ–Ω–∏—è. | –£–∑–µ–ª –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∑–∞–ø—Ä–æ—Å—ã (–æ—Ç –¥—Ä—É–≥–∏—Ö –º–∞—Å—Ç–µ—Ä–æ–≤ –∏ TServer) –ø–æ —ç—Ç–æ–º—É –∞–¥—Ä–µ—Å—É. |
| `--replication_factor=3` | –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ (Replication Factor, RF). | **–°–∞–º–∞—è –≤–∞–∂–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏.** RF=3 –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–∞–∂–¥—ã–π –∫—É—Å–æ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö (—Ç–∞–±–ª–µ—Ç) –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ 3 –∫–æ–ø–∏—è—Ö –Ω–∞ —Ä–∞–∑–Ω—ã—Ö T-—Å–µ—Ä–≤–µ—Ä–∞—Ö. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä—É –ø–µ—Ä–µ–∂–∏—Ç—å —Å–±–æ–π –ª—é–±–æ–≥–æ –∏–∑ —Ç—Ä–µ—Ö —É–∑–ª–æ–≤ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –ø—Ä–æ—Å—Ç–æ–µ–º. |
| `mem_limit: 1024m` | –õ–∏–º–∏—Ç –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏. | –î–ª—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –º–∞—Å—Ç–µ—Ä–∞ –æ–±—ã—á–Ω–æ —Ö–≤–∞—Ç–∞–µ—Ç 1-2 –ì–ë. |
| `ports: - "7000:7000"` | –ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. | **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–∏–ª–∏ Master UI)** –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:7000`. –ó–¥–µ—Å—å –≤–∏–¥–Ω–∞ –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∞—Å—Ç–µ—Ä–µ: —É–∑–ª—ã, —Ç–∞–±–ª–∏—Ü—ã, —Ç–∞–±–ª–µ—Ç—ã. |

### ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã T-–°–µ—Ä–≤–µ—Ä–æ–≤ (YB-TServer)
T-—Å–µ—Ä–≤–µ—Ä—ã ‚Äî —ç—Ç–æ ¬´–º—É—Å–∫—É–ª—ã¬ª –∫–ª–∞—Å—Ç–µ—Ä–∞. –û–Ω–∏ **—Ö—Ä–∞–Ω—è—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ**, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç SQL-–∑–∞–ø—Ä–æ—Å—ã (—á–µ—Ä–µ–∑ YSQL API) –∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –Ω–∏–º–∏.

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ (yb-tserver-a) | –û–±—ä—è—Å–Ω–µ–Ω–∏–µ |
| :--- | :--- | :--- |
| `command: "/home/yugabyte/bin/yb-tserver"` | –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª T-—Å–µ—Ä–≤–µ—Ä–∞. | –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å YB-TServer. |
| `--fs_data_dirs=/mnt/tserver` | –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –¥–∞–Ω–Ω—ã—Ö. | –ó–¥–µ—Å—å T-—Å–µ—Ä–≤–µ—Ä —Ö—Ä–∞–Ω–∏—Ç –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏ –∂—É—Ä–Ω–∞–ª—ã —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏. |
| `--tserver_master_addrs=yb-master:7100` | –ê–¥—Ä–µ—Å(–∞) –º–∞—Å—Ç–µ—Ä–∞ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. | T-—Å–µ—Ä–≤–µ—Ä –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –º–∞—Å—Ç–µ—Ä—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, –∫–∞–∫–∏–µ —Ç–∞–±–ª–µ—Ç—ã –µ–º—É –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å, –∏ —É–∑–Ω–∞—Ç—å –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞. |
| `--rpc_bind_addresses=yb-tserver-a:9100` | IP –∏ –ø–æ—Ä—Ç –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ RPC-–æ–±—â–µ–Ω–∏—è. | –ê–¥—Ä–µ—Å, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É —ç—Ç–æ—Ç T-—Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –¥—Ä—É–≥–∏—Ö —É–∑–ª–æ–≤ –∫–ª–∞—Å—Ç–µ—Ä–∞. |
| `--enable_ysql` | –í–∫–ª—é—á–µ–Ω–∏–µ PostgreSQL-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–≥–æ API (YSQL). | **–ë–µ–∑ —ç—Ç–æ–≥–æ —Ñ–ª–∞–≥–∞ –≤—ã –Ω–µ —Å–º–æ–∂–µ—Ç–µ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ `psql` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞–∫–æ–º—ã–π SQL.** |
| `--ysql_enable_auth=false` | –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. | –î–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å—Ç–µ–Ω–¥–∞ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (–ø–∞—Ä–æ–ª—å –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è). –í production **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å**. |
| `--pgsql_proxy_bind_address=0.0.0.0:5433` | –ê–¥—Ä–µ—Å –¥–ª—è –ø—Ä–∏–µ–º–∞ SQL-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π. | **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –ø–æ—Ä—Ç.** –ò–º–µ–Ω–Ω–æ –Ω–∞ –Ω–µ–≥–æ —Å—Ç—É—á–∞—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—ã (psql, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è). `0.0.0.0` –æ–∑–Ω–∞—á–∞–µ—Ç "–ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å –ª—é–±—ã—Ö –∞–¥—Ä–µ—Å–æ–≤". |
| `ports: - "5433:5433"` | –ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–∞ –Ω–∞ —Ö–æ—Å—Ç. | –î–µ–ª–∞–µ—Ç –ø–æ—Ä—Ç 5433 T-—Å–µ—Ä–≤–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω—ã–º –Ω–∞ localhost –≤–∞—à–µ–π –º–∞—à–∏–Ω—ã. |
| `mem_limit: 2048m` | –õ–∏–º–∏—Ç –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏. | –î–ª—è T-—Å–µ—Ä–≤–µ—Ä–∞ –Ω—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 2 –ì–ë –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã. |

> ‚ö†Ô∏è **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –ø—Ä–æ –ø–æ—Ä—Ç—ã:** –í –Ω–∞—à–µ–º –∫–æ–Ω—Ñ–∏–≥–µ –ø–æ—Ä—Ç 5433 –ø—Ä–æ–±—Ä–æ—à–µ–Ω —Ç–æ–ª—å–∫–æ —É `yb-tserver-a`. –≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –µ–¥–∏–Ω—É—é —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞. –û—Å—Ç–∞–ª—å–Ω—ã–µ T-—Å–µ—Ä–≤–µ—Ä—ã (`b` –∏ `c`) –Ω–µ –ø—Ä–æ–±—Ä–æ—à–µ–Ω—ã –Ω–∞—Ä—É–∂—É ‚Äî –æ–Ω–∏ –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏ Docker. –ß—Ç–æ–±—ã –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –Ω–∏–º –Ω–∞–ø—Ä—è–º—É—é, –Ω—É–∂–Ω–æ –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å —Ä–∞–∑–Ω—ã–µ –ø–æ—Ä—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, 5434:5433 –∏ 5435:5433) –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–º–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä (Smart Driver) –¥–ª—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏.

### üß© –°–≤—è–∑–∫–∞ –≤—Å–µ–≥–æ –≤–º–µ—Å—Ç–µ: –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
1.  **–ó–∞–ø—É—Å–∫**: –°–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—Ç—É–µ—Ç **–º–∞—Å—Ç–µ—Ä**, –∑–∞—Ç–µ–º T-—Å–µ—Ä–≤–µ—Ä—ã. T-—Å–µ—Ä–≤–µ—Ä —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –º–∞—Å—Ç–µ—Ä–µ –∏ –≥–æ–≤–æ—Ä–∏—Ç: ¬´–Ø –∑–¥–µ—Å—å, –≥–æ—Ç–æ–≤ –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å —Ç–∞–±–ª–µ—Ç—ã¬ª.
2.  **–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã**: –ö–æ–≥–¥–∞ –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ —Ç–∞–±–ª–∏—Ü—É —á–µ—Ä–µ–∑ YSQL, –º–∞—Å—Ç–µ—Ä –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω–∞ —Å–∫–æ–ª—å–∫–æ —Ç–∞–±–ª–µ—Ç–æ–≤ –µ—ë —Ä–∞–∑–±–∏—Ç—å, –∏ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∞–±–ª–µ—Ç–∞ –≥—Ä—É–ø–ø—É –∏–∑ 3 —Ä–µ–ø–ª–∏–∫ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö T-—Å–µ—Ä–≤–µ—Ä–∞—Ö (—Å–æ–≥–ª–∞—Å–Ω–æ RF=3).
3.  **–ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö**: –ü—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ —Å—Ç—Ä–æ–∫–∏, –ª–∏–¥–µ—Ä-—Ä–µ–ø–ª–∏–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ç–∞–±–ª–µ—Ç–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –µ—ë –≤ —Å–≤–æ–π WAL (–∂—É—Ä–Ω–∞–ª) –∏ —Ä–µ–ø–ª–∏—Ü–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ **–ø—Ä–æ—Ç–æ–∫–æ–ª Raft** –Ω–∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–ø–ª–∏–∫–∏. –û–ø–µ—Ä–∞—Ü–∏—è —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ–π, –∫–æ–≥–¥–∞ –µ—ë –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç **–∫–≤–æ—Ä—É–º** (–±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ) —Ä–µ–ø–ª–∏–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2 –∏–∑ 3).
4.  **–ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**: –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ —á—Ç–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–¥—É—Ç –∫ –ª–∏–¥–µ—Ä-—Ä–µ–ø–ª–∏–∫–µ —Ç–∞–±–ª–µ—Ç–∞ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ **—Å—Ç—Ä–æ–≥–æ–π —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏**.

### üîç –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
*   **[–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ yugabyted](https://docs.yugabyte.com/stable/reference/configuration/yugabyted/)**: –û–±—â–∞—è —É—Ç–∏–ª–∏—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
*   **–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —Ñ–ª–∞–≥–∞–º YB-TServer**: –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ T-—Å–µ—Ä–≤–µ—Ä–∞. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –≤ Docker Compose –º—ã —É–∫–∞–∑—ã–≤–∞–µ–º –∏—Ö –≤ —Å–µ–∫—Ü–∏–∏ `command:`.
*   **[–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–∑–º–µ–Ω–µ–Ω–∏—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞](https://docs.yugabyte.com/stable/manage/change-cluster-config/)**: –ü–æ–ª–µ–∑–Ω–æ, –∫–æ–≥–¥–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–ª–∏ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —É–∑–ª—ã.

### üóÇÔ∏è –ß—Ç–æ —Ç–∞–∫–æ–µ `/mnt/tserver` –∏ `/mnt/master`?
–î–∞, —ç—Ç–æ –ø—É—Ç–∏ **–≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**. –í –Ω–∞—à–µ–º –∫–æ–Ω—Ñ–∏–≥–µ –æ–Ω–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç, –∫—É–¥–∞ –ø—Ä–æ—Ü–µ—Å—Å—ã YugabyteDB (`yb-tserver` –∏ `yb-master`) –±—É–¥—É—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —Å–≤–æ–∏ —Ñ–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö, –∂—É—Ä–Ω–∞–ª—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ.
*   `/mnt/tserver` ‚Äî –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö (–≤–∞—à–∏ —Ç–∞–±–ª–∏—Ü—ã).
*   `/mnt/master` ‚Äî –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Ç–µ—Ä–∞.

### ü§î –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ `/mnt`?
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `/mnt` ‚Äî —ç—Ç–æ **–æ–±—â–µ–ø—Ä–∏–Ω—è—Ç–∞—è –∫–æ–Ω–≤–µ–Ω—Ü–∏—è –¥–ª—è –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (mount)**. –ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –≤ —ç—Ç—É —Ç–æ—á–∫—É *–ø—Ä–∏–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞* –Ω–µ–∫–æ—Ç–æ—Ä–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞. –í Docker —ç—Ç–æ –æ–±—ã—á–Ω–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å—é–¥–∞ –º–æ–∂–Ω–æ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å (mount) –≤–Ω–µ—à–Ω–∏–π —Ç–æ–º (volume) –∏–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Ö–æ—Å—Ç–∞. –°–∞–º–∞ –ø–æ —Å–µ–±–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –ø—É—Å—Ç–∞.

### üîó –ö–∞–∫ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥–∏ –Ω–∞—Ä—É–∂—É? –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏
–í–æ—Ç —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–∞, –æ—Ç —Å–∞–º–æ–≥–æ –ø—Ä–æ—Å—Ç–æ–≥–æ (–∏ –Ω–µ–¥–æ–ª–≥–æ–≤–µ—á–Ω–æ–≥–æ) –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É.

| –°–ø–æ—Å–æ–± | –ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –≤ –∫–æ–Ω—Ñ–∏–≥–µ | –ü–ª—é—Å—ã | –ú–∏–Ω—É—Å—ã | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
| :--- | :--- | :--- | :--- | :--- |
| **1. Docker Volume** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) | ```volumes: - yb_data:/mnt/tserver``` | –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Docker, –Ω–∞–¥–µ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è, –ª—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. | –ú–µ–Ω–µ–µ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ, –≥–¥–µ –ª–µ–∂–∞—Ç —Ñ–∞–π–ª—ã. | –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∏ —Ä–∞–±–æ—á–∏—Ö —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–π. |
| **2. Bind Mount (–ø—Ä–∏–≤—è–∑–∫–∞ –∫ —Ö–æ—Å—Ç—É)** | ```volumes: - ./yb_data:/mnt/tserver``` | –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å, —Ñ–∞–π–ª—ã –≤–∏–¥–Ω—ã –Ω–∞ —Ö–æ—Å—Ç–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏. | –ú–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã —Ö–æ—Å—Ç–∞. | –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –Ω–∞–ø—Ä—è–º—É—é –∫–æ–ø–∞—Ç—å—Å—è –≤ —Ñ–∞–π–ª–∞—Ö –ë–î. |
| **3. –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (tmpfs)** | –ù–µ —É–∫–∞–∑—ã–≤–∞—Ç—å `volumes:` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä–æ. | –î–∞–Ω–Ω—ã–µ —É–¥–∞–ª—è—é—Ç—Å—è –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. | **–¢–æ–ª—å–∫–æ –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö —Ç–µ—Å—Ç–æ–≤!** –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è. |

**–í –Ω–∞—à–µ–º —Ç–µ–∫—É—â–µ–º –∫–æ–Ω—Ñ–∏–≥–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º 3-–π —Å–ø–æ—Å–æ–± (–¥–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞). –≠—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞, –Ω–æ –¥–ª—è —á–µ–≥–æ-—Ç–æ —Å–µ—Ä—å–µ–∑–Ω–æ–≥–æ ‚Äî –æ–ø–∞—Å–Ω–æ.**

### üõ†Ô∏è –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
–í–æ—Ç –∫–∞–∫ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π `docker-compose.yml` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Docker Volumes**:

```yaml
version: '3.8'

services:
  yb-master:
    image: yugabytedb/yugabyte:latest
    command: [ ... ] # –∫–æ–º–∞–Ω–¥—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    volumes:
      - yb_master_data:/mnt/master  # –ú–æ–Ω—Ç–∏—Ä—É–µ–º –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–º –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –º–∞—Å—Ç–µ—Ä–∞
    mem_limit: 1024m
    ports:
      - "7000:7000"

  yb-tserver-a:
    image: yugabytedb/yugabyte:latest
    command: [ ... ] # –∫–æ–º–∞–Ω–¥—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    volumes:
      - yb_tserver_a_data:/mnt/tserver # –ú–æ–Ω—Ç–∏—Ä—É–µ–º –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ç–æ–º –¥–ª—è –¥–∞–Ω–Ω—ã—Ö tserver-a
    ports:
      - "5433:5433"
    depends_on:
      - yb-master
    mem_limit: 2048m

  yb-tserver-b:
    image: yugabytedb/yugabyte:latest
    volumes:
      - yb_tserver_b_data:/mnt/tserver
    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥

  yb-tserver-c:
    image: yugabytedb/yugabyte:latest
    volumes:
      - yb_tserver_c_data:/mnt/tserver
    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥

# –ö–ª—é—á–µ–≤–æ–π –±–ª–æ–∫: –æ–±—ä—è–≤–ª—è–µ–º —Ç–æ–º–∞, –∫–æ—Ç–æ—Ä—ã–µ Docker –±—É–¥–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å
volumes:
  yb_master_data:
  yb_tserver_a_data:
  yb_tserver_b_data:
  yb_tserver_c_data:
```

**–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ:**
1.  –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç **—Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è** –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏ `docker-compose down` –∏ `docker-compose up`.
2.  –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –≥–¥–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –ª–µ–∂–∞—Ç —Ç–æ–º–∞, –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π `docker volume inspect yb_tserver_a_data`.
3.  –ß—Ç–æ–±—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—Å—Ç–∏—Ç—å –∫–ª–∞—Å—Ç–µ—Ä **—Å –¥–∞–Ω–Ω—ã–º–∏**, –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥ `-v`: `docker-compose down -v`.

### üíé –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1.  **–î–ª—è —Ç–µ—Å—Ç–æ–≤ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Docker Volumes** (—Å–ø–æ—Å–æ–± 1). –≠—Ç–æ –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –ø—Ä–æ—Å—Ç–æ—Ç–æ–π –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å—é.
2.  **–î–ª—è Production –≤ Docker** ‚Äî —Ç–∞–∫–∂–µ **Docker Volumes** –∏–ª–∏, —á—Ç–æ –µ—â–µ –ª—É—á—à–µ, —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –¥—Ä–∞–π–≤–µ—Ä—ã —Ç–æ–º–æ–≤ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –æ–±–ª–∞—á–Ω—ã–º–∏ –¥–∏—Å–∫–∞–º–∏ (AWS EBS, Google Persistent Disk).
3.  **–î–ª—è Production –≤ Kubernetes** ‚Äî –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **PersistentVolume (PV)** –∏ **PersistentVolumeClaim (PVC)**, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è –∞–Ω–∞–ª–æ–≥–∞–º–∏ —Ç–æ–º–æ–≤ –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

## üì¶ –ß—Ç–æ —Ç–∞–∫–æ–µ Docker Volumes (—Ç–æ–º–∞)?

**Docker Volumes ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ —Å–∞–º–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.**

–ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è:
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä** ‚Äî —ç—Ç–æ "–∫–æ—Ä–æ–±–∫–∞" —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º (YugabyteDB)
- **Volume (—Ç–æ–º)** ‚Äî —ç—Ç–æ "–≤–Ω–µ—à–Ω–∏–π –¥–∏—Å–∫", –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —ç—Ç–æ–π –∫–æ—Ä–æ–±–∫–µ
- –ï—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å –∫–æ—Ä–æ–±–∫—É (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä), –¥–∏—Å–∫ (—Ç–æ–º) –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Å –¥–∞–Ω–Ω—ã–º–∏

## üìç –ì–¥–µ Docker —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–º–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏?

**–ù–∞ —Ö–æ—Å—Ç–æ–≤–æ–π –º–∞—à–∏–Ω–µ**, –Ω–æ –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º –º–µ—Å—Ç–µ, —É–ø—Ä–∞–≤–ª—è–µ–º–æ–º Docker:

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Ç–æ–º–∞ –∏ –≥–¥–µ –æ–Ω–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –ª–µ–∂–∞—Ç:
docker volume ls
docker volume inspect <–∏–º—è_—Ç–æ–º–∞>

# –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
# [
#   {
#     "CreatedAt": "2024-01-31T15:23:42Z",
#     "Driver": "local",
#     "Mountpoint": "/var/lib/docker/volumes/yb_tserver_a_data/_data",
#     "Name": "yb_tserver_a_data",
#     "Options": {},
#     "Scope": "local"
#   }
# ]
```

**–ö–ª—é—á–µ–≤–æ–µ –ø–æ–ª–µ ‚Äî `Mountpoint`**. –≠—Ç–æ —Ä–µ–∞–ª—å–Ω—ã–π –ø—É—Ç—å –Ω–∞ –≤–∞—à–µ–π —Ö–æ—Å—Ç–æ–≤–æ–π –º–∞—à–∏–Ω–µ:
- –ù–∞ **Linux**: `/var/lib/docker/volumes/...`
- –ù–∞ **macOS/Windows**: –≤–Ω—É—Ç—Ä–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã Docker Desktop

## üíΩ –ö–∞–∫ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ SSD/NVMe –¥–∏—Å–∫?

–ï—Å—Ç—å **—Ç—Ä–∏ —Å–ø–æ—Å–æ–±–∞**, –Ω–∞—á–∏–Ω–∞—è —Å —Å–∞–º–æ–≥–æ –ø—Ä–æ—Å—Ç–æ–≥–æ:

### **–°–ø–æ—Å–æ–± 1: Bind Mount (–ø—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø–∞–ø–∫–µ)**
**–°–∞–º—ã–π –ø—Ä—è–º–æ–π –∫–æ–Ω—Ç—Ä–æ–ª—å** ‚Äî —É–∫–∞–∑—ã–≤–∞–µ—Ç–µ —Ç–æ—á–Ω—ã–π –ø—É—Ç—å –Ω–∞ —Ö–æ—Å—Ç–µ:

```yaml
# –í docker-compose.yml:
services:
  yb-tserver-a:
    volumes:
      - "/mnt/ssd/yugabyte/tserver-a:/mnt/tserver"  # ‚Üê –≤–∞—à –ø—É—Ç—å –Ω–∞ SSD
    
volumes: {}  # –ë–ª–æ–∫ volumes –ù–ï –Ω—É–∂–µ–Ω –ø—Ä–∏ —Ç–∞–∫–æ–º —Å–ø–æ—Å–æ–±–µ
```

**–ü–ª—é—Å—ã**: –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π –¥–∏—Å–∫
**–ú–∏–Ω—É—Å—ã**: –ù—É–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –≤—Ä—É—á–Ω—É—é

### **–°–ø–æ—Å–æ–± 2: Docker Volume —Å –¥—Ä–∞–π–≤–µ—Ä–æ–º local –∏ –æ–ø—Ü–∏—è–º–∏**
–ë–æ–ª–µ–µ "docker way" ‚Äî —Å–æ–∑–¥–∞–µ–º –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–º —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –¥—Ä–∞–π–≤–µ—Ä–∞:

```yaml
# docker-compose.yml:
services:
  yb-tserver-a:
    volumes:
      - yb_fast_volume:/mnt/tserver

volumes:
  yb_fast_volume:
    driver: local
    driver_opts:
      type: none
      o: bind
      device: /mnt/ssd/yugabyte  # ‚Üê –≤–∞—à SSD –ø—É—Ç—å
```

### **–°–ø–æ—Å–æ–± 3: –°–æ–∑–¥–∞—Ç—å —Ç–æ–º –≤—Ä—É—á–Ω—É—é –∏ —É–∫–∞–∑–∞—Ç—å –≤ compose**
–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–µ–º —Ç–æ–º —á–µ—Ä–µ–∑ CLI:

```bash
# –°–æ–∑–¥–∞–µ–º —Ç–æ–º —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø—É—Ç–∏
docker volume create \
  --driver local \
  --opt type=none \
  --opt o=bind \
  --opt device=/mnt/ssd/yugabyte \
  yb_ssd_volume

# –ü—Ä–æ–≤–µ—Ä—è–µ–º
docker volume inspect yb_ssd_volume
```

–ó–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤ –∫–æ–Ω—Ñ–∏–≥–µ:

```yaml
services:
  yb-tserver-a:
    volumes:
      - yb_ssd_volume:/mnt/tserver
```

## üõ†Ô∏è –ü–æ–ª–Ω—ã–π –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: –∫–ª–∞—Å—Ç–µ—Ä YugabyteDB –Ω–∞ SSD

–í–æ—Ç —Ä–∞–±–æ—á–∏–π `docker-compose.yml`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –≤–∞—à–µ–º SSD:

```yaml
version: '3.8'

services:
  yb-master:
    image: yugabytedb/yugabyte:latest
    command: [ ... ] # –≤–∞—à–∏ –∫–æ–º–∞–Ω–¥—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    volumes:
      - /mnt/ssd/yugabyte/master:/mnt/master  # ‚Üê SSD –ø—É—Ç—å
    mem_limit: 1024m
    ports:
      - "7000:7000"

  yb-tserver-a:
    image: yugabytedb/yugabyte:latest
    command: [ ... ] # –≤–∞—à–∏ –∫–æ–º–∞–Ω–¥—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    volumes:
      - /mnt/ssd/yugabyte/tserver-a:/mnt/tserver  # ‚Üê SSD –ø—É—Ç—å
    ports:
      - "5433:5433"
    mem_limit: 2048m

  # –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è yb-tserver-b –∏ yb-tserver-c

# –ë–ª–æ–∫ volumes –ù–ï –Ω—É–∂–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ–º bind mount
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤ (–≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã)

| –ü–æ–¥—Ö–æ–¥ | –ö–æ–Ω—Ñ–∏–≥ –≤ docker-compose | –ì–¥–µ –ª–µ–∂–∞—Ç –¥–∞–Ω–Ω—ã–µ | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Docker | –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ |
|--------|------------------------|------------------|-------------------|---------------|
| **Docker Volume** (–∞–≤—Ç–æ) | `- yb_data:/mnt/tserver` | `/var/lib/docker/volumes/...` | –ü–æ–ª–Ω–æ–µ | Docker —Å–∞–º —Ä–µ—à–∞–µ—Ç |
| **Bind Mount** (—Ä—É—á–Ω–æ–π) | `- /–ø—É—Ç—å/–Ω–∞/—Ö–æ—Å—Ç–µ:/mnt/tserver` | –£–∫–∞–∑–∞–Ω–Ω—ã–π –≤–∞–º–∏ –ø—É—Ç—å | –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ | –í—ã —É–ø—Ä–∞–≤–ª—è–µ—Ç–µ |
| **Volume —Å –¥—Ä–∞–π–≤–µ—Ä–æ–º** | `driver_opts: device: /–ø—É—Ç—å` | –£–∫–∞–∑–∞–Ω–Ω—ã–π –≤–∞–º–∏ –ø—É—Ç—å | –°—Ä–µ–¥–Ω–µ–µ | Docker + –≤–∞—à–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |

## üîß –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —à–∞–≥–∏ –¥–ª—è –≤–∞—Å –Ω–∞ CentOS 7

1. **–°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥–∏ –Ω–∞ SSD**:
   ```bash
   sudo mkdir -p /mnt/ssd/yugabyte/{master,tserver-a,tserver-b,tserver-c}
   sudo chown -R $(whoami):$(whoami) /mnt/ssd/yugabyte
   ```

2. **–û–±–Ω–æ–≤–∏—Ç–µ docker-compose.yml** —Å –ø—É—Ç—è–º–∏ –∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**:
   ```bash
   # –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
   docker-compose up -d
   
   # –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, —á—Ç–æ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å
   docker exec yugabyte_yb-tserver-a_1 ls -la /mnt/tserver
   
   # –ù–∞ —Ö–æ—Å—Ç–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
   ls -la /mnt/ssd/yugabyte/tserver-a/
   ```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

1. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** ‚Äî Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —á–∞—Å—Ç–æ —Ä–∞–±–æ—Ç–∞—é—Ç –æ—Ç `root` –≤–Ω—É—Ç—Ä–∏. –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –æ—à–∏–±–∫–∏ –∑–∞–ø–∏—Å–∏, –≤–æ–∑–º–æ–∂–Ω–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è:
   ```bash
   sudo chmod -R 777 /mnt/ssd/yugabyte  # –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ, –Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤
   # –ò–ª–∏ –ª—É—á—à–µ:
   sudo chown -R 999:999 /mnt/ssd/yugabyte  # –ì–¥–µ 999 - UID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
   ```

2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî –¥–ª—è NVMe –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø—Ü–∏–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
   ```yaml
   volumes:
     - "/mnt/nvme/yugabyte:/mnt/tserver:rw,noatime,nodiratime"
   ```

3. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî —Ç–µ–ø–µ—Ä—å –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –Ω–∞ –≤–∞—à–µ–º –¥–∏—Å–∫–µ. –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø—ã!

**–ö–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –≤–∞–º –±–æ–ª—å—à–µ –ø–æ–¥—Ö–æ–¥–∏—Ç:**
- **Bind Mount** (`/–ø—É—Ç—å/–Ω–∞/—Ö–æ—Å—Ç–µ:...`) ‚Äî –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ –≤–∏–¥–µ—Ç—å —Ñ–∞–π–ª—ã
- **Docker Volume** —Å –¥—Ä–∞–π–≤–µ—Ä–æ–º ‚Äî –µ—Å–ª–∏ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ "docker way" —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∫–æ–Ω—Ç—Ä–æ–ª—è
