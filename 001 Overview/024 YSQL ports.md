**–û—Ç–ª–∏—á–Ω–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ!** –í—ã –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ –≤–∞–∂–Ω—ã–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –Ω—é–∞–Ω—Å YugabyteDB.

### üîç –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã

**yb-tserver1** ‚Äî —ç—Ç–æ **–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π TServer, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–æ–±—Ä–æ—à–µ–Ω –ø–æ—Ä—Ç 5433** –Ω–∞ —Ö–æ—Å—Ç:
```yaml
yb-tserver1:
  ports:
    - "5433:5433"  # ‚Üê –¢–æ–ª—å–∫–æ —É —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞!
```

–ö–æ–≥–¥–∞ –≤—ã –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç–µ `yb-tserver1`:
1. **–ü–æ—Ä—Ç 5433 —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º** –Ω–∞ localhost
2. **–î–≤–∞ –¥—Ä—É–≥–∏—Ö TServer —Ä–∞–±–æ—Ç–∞—é—Ç**, –Ω–æ –∫ –Ω–∏–º –Ω–µ–ª—å–∑—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å–Ω–∞—Ä—É–∂–∏
3. **–ö–ª–∞—Å—Ç–µ—Ä –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å**, –Ω–æ –≤–Ω–µ—à–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã

### üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–∞–±–æ—Ç—ã –∫–ª–∞—Å—Ç–µ—Ä–∞

–ö–ª–∞—Å—Ç–µ—Ä –≤—Å–µ –µ—â–µ —Ä–∞–±–æ—Ç–∞–µ—Ç! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –¥—Ä—É–≥–æ–º—É TServer –∏–∑–Ω—É—Ç—Ä–∏
docker exec yugabyte-yb-tserver2-1 ysqlsh -U yugabyte -h yb-tserver2 -c "SELECT * FROM users;"

# 2. –ò–ª–∏ –≤–æ–π–¥–∏—Ç–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –ª–æ–∫–∞–ª—å–Ω–æ
docker exec -it yugabyte-yb-tserver2-1 bash
ysqlsh -U yugabyte -h yb-tserver2 -c "SELECT * FROM users;"
exit
```

### üéØ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏

–ß—Ç–æ–±—ã –≤—Å–µ 3 TServer –±—ã–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Å–Ω–∞—Ä—É–∂–∏, –Ω—É–∂–Ω–æ –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å –ø–æ—Ä—Ç—ã —É –∫–∞–∂–¥–æ–≥–æ:

```yaml
# –í docker-compose.yml –¥–æ–±–∞–≤—å—Ç–µ –ø–æ—Ä—Ç—ã:
yb-tserver1:
  ports:
    - "5433:5433"    # –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ä—Ç
    - "5434:5433"    # –î—É–±–ª–∏—Ä—É—é—â–∏–π –ø–æ—Ä—Ç (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π)

yb-tserver2:
  ports:
    - "5435:5433"    # –ü–æ—Ä—Ç –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ TServer

yb-tserver3:
  ports:  
    - "5436:5433"    # –ü–æ—Ä—Ç –¥–ª—è —Ç—Ä–µ—Ç—å–µ–≥–æ TServer
```

### üí° –ö–∞–∫ YugabyteDB –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

1. **–û–±—ã—á–Ω–æ** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –∫ **–ª—é–±–æ–º—É –∂–∏–≤–æ–º—É TServer**
2. **Smart Driver** (—É–º–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –º–µ–∂–¥—É TServer
3. **–í –≤–∞—à–µ–º —Å–ª—É—á–∞–µ** —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω TServer –¥–æ—Å—Ç—É–ø–µ–Ω —Å–Ω–∞—Ä—É–∂–∏

### ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π TServer

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞–ø—Ä—è–º—É—é –∫ yb-tserver2 (–∏–∑–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏ Docker)
docker exec yugabyte-yb-tserver2-1 ysqlsh -U yugabyte -c "\dt"

# 2. –ò–ª–∏ –ø—Ä–æ–±—Ä–æ—Å—å—Ç–µ –ø–æ—Ä—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ
docker run --rm -it --network yugabyte_default yugabytedb/yugabyte:latest \
  ysqlsh -h yb-tserver2 -p 5433 -U yugabyte -c "SELECT * FROM users;"
```

### üõ†Ô∏è –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ–±—Ä–æ—Å–∏—Ç—å –ø–æ—Ä—Ç—ã —É –≤—Å–µ—Ö TServer** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –æ–±—É—á–µ–Ω–∏—è)

```bash
# –í—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–æ–±—Ä–æ—Å–∏–º –ø–æ—Ä—Ç –¥–ª—è yb-tserver2
docker stop yugabyte-yb-tserver1-1
docker run -d --name yb-tserver2-proxy --network yugabyte_default -p 5433:5433 \
  alpine/socat TCP-LISTEN:5433,fork TCP:yb-tserver2:5433

# –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è
psql -h localhost -p 5433 -U yugabyte -c "SELECT * FROM users;"
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–≥—Ä—É–∑–∫–∏**

```yaml
# –î–æ–±–∞–≤—å—Ç–µ –≤ docker-compose.yml
haproxy:
  image: haproxy:latest
  ports:
    - "5433:5433"
  volumes:
    - ./haproxy.cfg:/usr/local/etc/haproxy/haproxy.cfg
  depends_on:
    - yb-tserver1
    - yb-tserver2  
    - yb-tserver3
```

### üìà –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:7000` –∏ —É–±–µ–¥–∏—Ç–µ—Å—å:
1. **yb-tserver1** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å `Dead` –∏–ª–∏ `Stopped`
2. **yb-tserver2** –∏ **yb-tserver3** –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç `Alive`
3. **–¢–∞–±–ª–µ—Ç—ã –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏–ª–∏—Å—å** –Ω–∞ –∂–∏–≤—ã–µ —É–∑–ª—ã

### üéØ –í—ã–≤–æ–¥

**–í–∞—à –∫–ª–∞—Å—Ç–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ!** –í—ã –ø—Ä–æ—Å—Ç–æ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏, —á—Ç–æ:
- **–í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø** –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ TServer —Å –ø—Ä–æ–±—Ä–æ—à–µ–Ω–Ω—ã–º –ø–æ—Ä—Ç–æ–º
- **–í–Ω—É—Ç—Ä–µ–Ω–Ω–µ –∫–ª–∞—Å—Ç–µ—Ä –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤** ‚Äî –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ –¥—Ä—É–≥–∏–µ TServer
- **–î–ª—è production** –Ω—É–∂–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (Smart Driver –∏–ª–∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫)

**–•–æ—Ç–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã–π –¥–æ—Å—Ç—É–ø –∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –¥—Ä—É–≥–∏—Ö –∞—Å–ø–µ–∫—Ç–æ–≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã?**
