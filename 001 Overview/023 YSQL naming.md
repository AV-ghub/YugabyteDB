–û—à–∏–±–∫–∞ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ —Å–µ—Ä–≤–∏—Å–∞ ‚Äî –≤ –≤–∞—à–µ–º `docker-compose.yml` —Å–µ—Ä–≤–∏—Å—ã –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è **`yb-tserver2`**, –∞ –Ω–µ `yb-tserver2-1` (—ç—Ç–æ –∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞).

### üîß –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π TServer (—Å–µ—Ä–≤–∏—Å –∏–∑ compose —Ñ–∞–π–ª–∞)
docker compose stop yb-tserver2

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker compose ps

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–µ–Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–∫–∞–∫ –≤ docker ps)
docker stop yugabyte-yb-tserver2-1
```

### üìä –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

–í—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# 1. –ö–∞–∫–∏–µ —Å–µ—Ä–≤–∏—Å—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ compose —Ñ–∞–π–ª–µ
docker compose config --services

# 2. –ö–∞–∫–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã (–∏ –∏—Ö –∏–º–µ–Ω–∞)
docker compose ps
# –∏–ª–∏
docker ps --filter "name=yugabyte" --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}"
```

### üéØ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏

–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

```bash
# 1. –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Ç–æ—Ä–æ–π TServer
docker compose stop yb-tserver2

# 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–ª–∞—Å—Ç–µ—Ä –µ—â–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
psql -h localhost -p 5433 -U yugabyte -c "SELECT * FROM users;"

# 3. –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)
psql -h localhost -p 5433 -U yugabyte -c "CREATE TABLE test_failover (id SERIAL PRIMARY KEY, data TEXT);"

# 4. –°–º–æ—Ç—Ä–∏–º –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: http://localhost:7000
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å yb-tserver2 –∫–∞–∫ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–π

# 5. –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º
docker compose start yb-tserver2
sleep 30  # –ñ–¥–µ–º –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
```

### üìã –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ –∏–º–µ–Ω–∞–º –≤ –≤–∞—à–µ–º –∫–ª–∞—Å—Ç–µ—Ä–µ

| –¢–∏–ø | –ò–º—è –≤ compose.yml | –ò–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ | –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
|-----|-------------------|----------------|-------------------|
| Master | `yb-master` | `yugabyte-yb-master-1` | `docker compose stop yb-master` |
| TServer 1 | `yb-tserver1` | `yugabyte-yb-tserver1-1` | `docker compose stop yb-tserver1` |
| TServer 2 | `yb-tserver2` | `yugabyte-yb-tserver2-1` | `docker compose stop yb-tserver2` |
| TServer 3 | `yb-tserver3` | `yugabyte-yb-tserver3-1` | `docker compose stop yb-tserver3` |

### üí° –ü–æ—á–µ–º—É —Ç–∞–∫–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –≤ –∏–º–µ–Ω–∞—Ö

Docker Compose —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∏–º–µ–Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ø–æ —à–∞–±–ª–æ–Ω—É:
- **–ò–º—è –ø—Ä–æ–µ–∫—Ç–∞** (`yugabyte`) + **–ò–º—è —Å–µ—Ä–≤–∏—Å–∞** (`yb-tserver2`) + **–ù–æ–º–µ—Ä –∏–Ω—Å—Ç–∞–Ω—Å–∞** (`-1`)
- –ò—Ç–æ–≥–æ: `yugabyte-yb-tserver2-1`

–ù–æ –≤ –∫–æ–º–∞–Ω–¥–∞—Ö `docker compose` –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ **–∏–º—è —Å–µ—Ä–≤–∏—Å–∞** (`yb-tserver2`).

### ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

```bash
# –ö–∞–∫–∏–µ —Å–µ—Ä–≤–∏—Å—ã/–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —É –≤–∞—Å —Å–µ–π—á–∞—Å
docker compose ps

# –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —É–≤–∏–¥–µ—Ç—å —Ç–æ—á–Ω—ã–µ –∏–º–µ–Ω–∞
docker ps --filter "name=yugabyte" --format "{{.Names}}"
```

**–¢–µ–ø–µ—Ä—å –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `yb-tserver2` –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å.** –°–æ–æ–±—â–∏—Ç–µ, —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `docker compose ps` –ø–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.
