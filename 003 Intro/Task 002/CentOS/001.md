```
–¥–∞–≤–∞–π –≤–µ—Ä–Ω–µ–º—Å—è –∫ –æ–±—ã—á–Ω–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ, –ø–æ–ª–¥–Ω—è —É–±–∏–ª–∏ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –ø–∞—Ö–Ω–µ—Ç —Ç—É–ø–∏–∫–æ–º
–¥–∞–≤–∞–π —É–¥–∞–ª–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–µ–º –Ω–∞ –º–∞—à–∏–Ω—É —Å —Ü–µ–Ω—Ç–æ—Å?
```

–û—Ç–ª–∏—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ. –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–≤–µ–ª –≤ —Ç—É–ø–∏–∫ –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏ –∏ –ø–∞–∫–µ—Ç–∞–º–∏. **–í–∏—Ä—É—Ç–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞ —Å CentOS 7, –≥–¥–µ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω `vault.centos.org` ‚Äî —ç—Ç–æ —Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π –∏ –ø—Ä—è–º–æ–π –ø—É—Ç—å.**

–î–∞–≤–∞–π—Ç–µ –ø–æ—á–∏—Å—Ç–∏–º –∑–∞ —Å–æ–±–æ–π –∏ –ø–µ—Ä–µ–π–¥–µ–º –Ω–∞ —á—ë—Ç–∫–∏–π –ø–ª–∞–Ω –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª–∫–∏.

### üßπ –®–∞–≥ 1: –£–¥–∞–ª—è–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –º–∞—à–∏–Ω–µ)

–£–¥–∞–ª–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –µ–≥–æ –æ–±—Ä–∞–∑, —á—Ç–æ–±—ã –æ–Ω–∏ –Ω–µ –∑–∞–Ω–∏–º–∞–ª–∏ –º–µ—Å—Ç–æ:

```bash
# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏ —É–¥–∞–ª—è–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker stop yb-build 2>/dev/null; docker rm yb-build 2>/dev/null
# –£–¥–∞–ª—è–µ–º —Å–∫–∞—á–∞–Ω–Ω—ã–π –æ–±—Ä–∞–∑ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞)
docker rmi yugabytedb/yugabyte:2025.2.0.1-b1-x86_64
```

### üñ•Ô∏è –®–∞–≥ 2: –ì–æ—Ç–æ–≤–∏–º —Ñ–∞–π–ª—ã YugabyteDB –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª–∫–∏ (–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –º–∞—à–∏–Ω–µ)

–ù–∞–º –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª–∫—É –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è —Å–±–æ—Ä–∫–∏: **`pg_config`** –∏ **–∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã (`include/`)** –∏–∑ –≤–∞—à–µ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ YugabyteDB.

–°–æ–∑–¥–∞–π—Ç–µ –∞—Ä—Ö–∏–≤ –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ `scp` –∏–ª–∏ –æ–±—â—É—é –ø–∞–ø–∫—É):

```bash
# –ù–∞ –≤–∞—à–µ–π –æ—Å–Ω–æ–≤–Ω–æ–π Rockey Linux (–≤–Ω–µ –≤–∏—Ä—Ç—É–∞–ª–∫–∏)
cd /_a/yugabyte-2025.2.0.1
tar -czf yb-for-build.tar.gz postgres/bin/pg_config postgres/include/
```
**–ö–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç:** –≠—Ç–æ—Ç –∞—Ä—Ö–∏–≤ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≤–∞—à–µ–π –≤–µ—Ä—Å–∏–∏ YB (`2025.2.0.1`). –°–±–æ—Ä–∫–∞ PostGIS –ø—Ä–æ—Ç–∏–≤ –Ω–∏—Ö –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –±–∏–Ω–∞—Ä–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å.

### üì¶ –®–∞–≥ 3: –°–æ–±–∏—Ä–∞–µ–º PostGIS –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª–∫–µ CentOS 7

–í–æ–π–¥–∏—Ç–µ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É —Å CentOS 7 –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# 1. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –í–°–ï –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ–¥–Ω–∏–º –º–∞—Ö–æ–º
sudo yum install -y gcc make postgresql-devel geos-devel proj-devel gdal-devel libxml2-devel wget

# 2. –†–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ–º –∞—Ä—Ö–∏–≤ —Å —Ñ–∞–π–ª–∞–º–∏ YB (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, –∞—Ä—Ö–∏–≤ —É–∂–µ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª–∫–µ –≤ /tmp)
cd /tmp
tar -xzf yb-for-build.tar.gz

# 3. –°–∫–∞—á–∏–≤–∞–µ–º –∏ —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ–º –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ PostGIS
wget https://download.osgeo.org/postgis/source/postgis-3.3.8.tar.gz
tar -xzf postgis-3.3.8.tar.gz
cd postgis-3.3.8

# 4. –°–ë–û–†–ö–ê: –£–∫–∞–∑—ã–≤–∞–µ–º –ø—É—Ç—å –∫ –Ω–∞—à–µ–º—É pg_config –∏–∑ –∞—Ä—Ö–∏–≤–∞
./configure --with-pgconfig=/tmp/_a/yugabyte-2025.2.0.1/postgres/bin/pg_config

# 5. –ö–æ–º–ø–∏–ª–∏—Ä—É–µ–º
make
```

**–ï—Å–ª–∏ `make` –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —É—Å–ø–µ—à–Ω–æ** ‚Äî –≤—ã –ø–æ–ª—É—á–∏–ª–∏ –∏–¥–µ–∞–ª—å–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Ñ–∞–π–ª—ã PostGIS! –û–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ —Å–±–æ—Ä–∫–∏.

### üìÇ –®–∞–≥ 4: –ö–æ–ø–∏—Ä—É–µ–º –≥–æ—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é –º–∞—à–∏–Ω—É

–°–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ –≤–∞—à—É —Ä–∞–±–æ—á—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É YugabyteDB. –°–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ:

1.  **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ (`*.so`):**
    ```bash
    # –ù–∞ –≤–∏—Ä—Ç—É–∞–ª–∫–µ –Ω–∞–π–¥–∏—Ç–µ –ø—É—Ç—å –∫ .so —Ñ–∞–π–ª—É (–æ–±—ã—á–Ω–æ –≤ –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–µ .libs –∏–ª–∏ lib)
    find . -name "postgis*.so" -type f
    # –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é –º–∞—à–∏–Ω—É –≤ –∫–∞—Ç–∞–ª–æ–≥ YugabyteDB
    # –ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å –≤–∏—Ä—Ç—É–∞–ª–∫–∏ (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –æ—Å–Ω–æ–≤–Ω–æ–π –º–∞—à–∏–Ω—ã):
    scp user@centos-vm-ip:/path/to/postgis-3.3.8/.libs/postgis-3.so /_a/yugabyte-2025.2.0.1/postgres/lib/
    ```

2.  **SQL –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (`*.sql`, `*.control`):**
    ```bash
    # –ù–∞ –≤–∏—Ä—Ç—É–∞–ª–∫–µ –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–µ 'extensions'
    find . -name "postgis*.sql" -o -name "postgis*.control"
    # –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏—Ö –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é –º–∞—à–∏–Ω—É –≤ –∫–∞—Ç–∞–ª–æ–≥ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π YB
    # –ü—Ä–∏–º–µ—Ä:
    scp user@centos-vm-ip:/path/to/postgis-3.3.8/extensions/* /_a/yugabyte-2025.2.0.1/postgres/share/extension/
    ```

### üîß –®–∞–≥ 5: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –º–∞—à–∏–Ω–µ)

–ü–æ—Å–ª–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤:
1.  –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–ª–∞–¥–µ–ª–µ—Ü —Ñ–∞–π–ª–æ–≤ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –¥—Ä—É–≥–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ YB (–Ω–∞–ø—Ä–∏–º–µ—Ä, `yugabyte:yugabyte`).
2.  –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–ª–∞—Å—Ç–µ—Ä YugabyteDB.
3.  –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å —á–µ—Ä–µ–∑ `ysqlsh` –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
    ```sql
    CREATE EXTENSION postgis;
    SELECT postgis_version();
    ```

### üí° –ü–æ—á–µ–º—É —ç—Ç–æ—Ç –ø–ª–∞–Ω –¥–æ–ª–∂–µ–Ω —Å—Ä–∞–±–æ—Ç–∞—Ç—å
- **CentOS 7 + Vault** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –ø–∞–∫–µ—Ç—ã.
- **`postgresql-devel`** –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ CentOS —Å–æ–≤–º–µ—Å—Ç–∏–º –ø–æ ABI —Å –≤–∞—à–∏–º YugabyteDB (—Ç.–∫. –æ–±–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç glibc 2.17).
- –£–∫–∞–∑–∞–Ω–∏–µ **–≤–∞—à–µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ `pg_config`** –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç PostGIS —Å–æ–±—Ä–∞—Ç—å—Å—è –∏–º–µ–Ω–Ω–æ –¥–ª—è –≤–∞—à–µ–π –≤–µ—Ä—Å–∏–∏ YB.

–≠—Ç–æ—Ç –ø—É—Ç—å –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω—ã–π –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ —á–∏—Å—Ç—ã–π. –£–¥–∞—á–∏ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª–∫–µ! –ü–æ—Å–ª–µ —à–∞–≥–∞ 3 (`make`) —Å–æ–æ–±—â–∏—Ç–µ –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ.

```
./configure --with-pgconfig=/tmp/_a/yugabyte-2025.2.0.1/postgres/bin/pg_config
...
checking for libiconvctl... no
configure: error: the user-specified pg_config file /tmp/_a/yugabyte-2025.2.0.1/postgres/bin/pg_config does not exist
```
`configure` —Å–æ–æ–±—â–∞–µ—Ç, —á—Ç–æ —Ñ–∞–π–ª–∞ `pg_config` –Ω–µ—Ç –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –ø—É—Ç–∏. –≠—Ç–æ –ø—Ä–æ—Å—Ç–µ–π—à–∞—è –ø—Ä–æ–±–ª–µ–º–∞, –∏ –æ–Ω–∞ –ª–µ–≥–∫–æ —Ä–µ—à–∞–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–æ–π.

–ü—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏ –Ω–µ —Å–≤—è–∑–∞–Ω–∞ —Å `libiconvctl` –∏–ª–∏ –¥—Ä—É–≥–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä—è–ª `configure` –≤ –ª–æ–≥–µ. –ü—Ä–æ—Ü–µ—Å—Å –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è —Ä–∞–Ω—å—à–µ –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–∞–π–ª–∞, —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤ –æ–ø—Ü–∏–∏ `--with-pgconfig`.

### üïµÔ∏è‚Äç‚ôÇÔ∏è –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø—É—Ç–∏ –∏ —Ñ–∞–π–ª–∞

–í–æ–π–¥–∏—Ç–µ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É CentOS 7 –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

1.  **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –∞—Ä—Ö–∏–≤:**
    ```bash
    ls -lh /tmp/yb-for-build.tar.gz
    ```
2.  **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫—É–¥–∞ –≤—ã —Ä–∞—Å–ø–∞–∫–æ–≤–∞–ª–∏ –∞—Ä—Ö–∏–≤:**
    ```bash
    find /tmp -name "pg_config" -type f 2>/dev/null
    ```
    –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∂–µ—Ç, –≥–¥–µ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è `pg_config`. –ü—É—Ç—å –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã —Ä–∞—Å–ø–∞–∫–æ–≤–∞–ª–∏ –Ω–µ –≤ –∫–æ—Ä–µ–Ω—å `/tmp`.

3.  **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π:**
    ```bash
    # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É—Ç—å, –Ω–∞–π–¥–µ–Ω–Ω—ã–π –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∫–æ–º–∞–Ω–¥–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä:
    ls -l /tmp/_a/yugabyte-2025.2.0.1/postgres/bin/pg_config
    ```

### üõ†Ô∏è –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å

–ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ `find` –Ω–µ –Ω–∞—à–ª–∞ —Ñ–∞–π–ª, –∑–Ω–∞—á–∏—Ç, –∞—Ä—Ö–∏–≤ –±—ã–ª —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω –Ω–µ —Ç—É–¥–∞. –í–∞–º –Ω—É–∂–Ω–æ:
*   **–õ–∏–±–æ –ø–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:** –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –∞—Ä—Ö–∏–≤ –±—ã–ª —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω –≤ –≤–∞—à–µ–º –¥–æ–º–∞—à–Ω–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ (`~/`).
*   **–õ–∏–±–æ —Å–Ω–æ–≤–∞ —Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å –∞—Ä—Ö–∏–≤, —É–∫–∞–∑–∞–≤ —è–≤–Ω—ã–π –ø—É—Ç—å:** –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä—è–º–æ –≤ `/tmp` –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã.
    ```bash
    tar -xzf yb-for-build.tar.gz -C /tmp/
    ```
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç—å –≤ –∫–æ–º–∞–Ω–¥–µ `./configure` –∞–±—Å–æ–ª—é—Ç–Ω–æ —Ç–æ—á–Ω—ã–π. –ù–∞–ø—Ä–∏–º–µ—Ä:
```bash
./configure --with-pgconfig=/tmp/_a/yugabyte-2025.2.0.1/postgres/bin/pg_config
```

–°–æ–æ–±—â–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—É—Ç–∏, –∏ –º—ã –ø—Ä–æ–¥–æ–ª–∂–∏–º —Å–±–æ—Ä–∫—É.

```
—è —Ä–∞—Å–ø–∞–∫–æ–≤–∞–ª –≤—Å–µ –≤ /_a/tmp
–∏. –Ω–∞ –º–∞—à–∏–Ω–µ —Å centos 7 –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è yugabyte –ª–æ–∫–∞–ª—å–Ω–æ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
–µ–≥–æ –Ω–∞–¥–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç—É–¥–∞?
```

**–ù–µ—Ç, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å YugabyteDB –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É —Å CentOS 7 –Ω–µ –Ω—É–∂–Ω–æ.** –ù–∞—à–∞ —Ü–µ–ª—å ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ–≥–æ **–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å–±–æ—Ä–∫–∏** (`pg_config` –∏ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–∑ `include/`), –∫–æ—Ç–æ—Ä—ã–µ –º—ã —É–∂–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ –≤ –∞—Ä—Ö–∏–≤.

–û—à–∏–±–∫–∞ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ `configure` –Ω–µ –Ω–∞—à—ë–ª `pg_config` –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –ø—É—Ç–∏. –î–∞–≤–∞–π—Ç–µ —Ä–µ—à–∏–º —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É.

### üïµÔ∏è‚Äç‚ôÇÔ∏è **–ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª–∫–µ CentOS 7**
–í—ã —Å–∫–∞–∑–∞–ª–∏, —á—Ç–æ —Ä–∞—Å–ø–∞–∫–æ–≤–∞–ª–∏ –∞—Ä—Ö–∏–≤ –≤ `/_a/tmp`. –ü—Ä–æ–≤–µ—Ä–∏–º —ç—Ç–æ –∏ –Ω–∞–π–¥—ë–º —Ç–æ—á–Ω—ã–π –ø—É—Ç—å:

1.  **–ù–∞–π–¥–∏—Ç–µ `pg_config` –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª–∫–µ:**
    ```bash
    find /_a/tmp -name "pg_config" -type f
    ```
    –ö–æ–º–∞–Ω–¥–∞ –≤–µ—Ä–Ω—ë—Ç —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
    `/_a/tmp/_a/yugabyte-2025.2.0.1/postgres/bin/pg_config`

2.  **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π:**
    ```bash
    # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É—Ç—å –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∫–æ–º–∞–Ω–¥—ã
    ls -l /_a/tmp/_a/yugabyte-2025.2.0.1/postgres/bin/pg_config
    # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–∞–ø—Ä–æ—Å–∏–≤ –≤–µ—Ä—Å–∏—é
    /_a/tmp/_a/yugabyte-2025.2.0.1/postgres/bin/pg_config --version
    ```
    –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å `PostgreSQL 15.12-YB-2025.2.0.1-b0`.

### ‚úÖ **–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å `configure` –ø—Ä–∞–≤–∏–ª—å–Ω–æ**
–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—ã –Ω–∞—à–ª–∏ —Ç–æ—á–Ω—ã–π –ø—É—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –≤ –∫–æ–º–∞–Ω–¥–µ `configure`:

```bash
cd /tmp/postgis-3.3.8  # –∏–ª–∏ –≥–¥–µ —É –≤–∞—Å –ª–µ–∂–∞—Ç –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ PostGIS
./configure --with-pgconfig=/_a/tmp/_a/yugabyte-2025.2.0.1/postgres/bin/pg_config
```

–ï—Å–ª–∏ `pg_config` –±—ã–ª –Ω–∞–π–¥–µ–Ω, `configure` –ø–µ—Ä–µ–π–¥—ë—Ç –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ (GEOS, PROJ, GDAL –∏ —Ç.–¥.), –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –∫–æ–º–∞–Ω–¥–æ–π `sudo yum install -y ...`.

**–°–æ–æ–±—â–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ `pg_config` –∏ —á—Ç–æ –ø–æ–∫–∞–∂–µ—Ç –∫–æ–º–∞–Ω–¥–∞ `pg_config --version`.**
–ï—Å–ª–∏ –æ–Ω –Ω–∞–π–¥–µ–Ω –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é, –∑–Ω–∞—á–∏—Ç, –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞, –∏ –º–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å–±–æ—Ä–∫—É.

```
find /_a/tmp -name "pg_config" -type f
/_a/tmp/postgres/bin/pg_config
```

–û—Ç–ª–∏—á–Ω–æ! –§–∞–π–ª `pg_config` –Ω–∞–π–¥–µ–Ω. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –ø—É—Ç—å –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ–∂–∏–¥–∞–µ–º–æ–≥–æ. –í—ã —Ä–∞—Å–ø–∞–∫–æ–≤–∞–ª–∏ –∞—Ä—Ö–∏–≤ —Ç–∞–∫, —á—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å —Å—Ä–∞–∑—É —Å `postgres/`, –∞ –Ω–µ —Å –ø–æ–ª–Ω–æ–≥–æ –ø—É—Ç–∏ `_a/yugabyte-2025.2.0.1/postgres/`.

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–±–æ—Ä–∫–∏ PostGIS

–¢–µ–ø–µ—Ä—å –∑–∞–ø—É—Å—Ç–∏—Ç–µ `configure` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø—É—Ç—ë–º:

```bash
cd /tmp/postgis-3.3.8
./configure --with-pgconfig=/_a/tmp/postgres/bin/pg_config
```

–ï—Å–ª–∏ `configure` –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —É—Å–ø–µ—à–Ω–æ (–≤—ã —É–≤–∏–¥–∏—Ç–µ –≤ –∫–æ–Ω—Ü–µ –≤—ã–≤–æ–¥ –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ `make`), –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
make
```

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏:**
*   `configure` –ø—Ä–æ–≤–µ—Ä–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (GEOS, PROJ, GDAL, libxml2), –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ —Ä–∞–Ω–µ–µ.
*   –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `make` —Å–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç PostGIS, –∏—Å–ø–æ–ª—å–∑—É—è –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–º–µ–Ω–Ω–æ –∏–∑ –≤–∞—à–µ–π –≤–µ—Ä—Å–∏–∏ YugabyteDB (–∫–æ—Ç–æ—Ä—ã–µ –ª–µ–∂–∞—Ç –≤ `/_a/tmp/postgres/include/`).

–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø–æ–ª—É—á–µ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `postgis.so` –±—É–¥–µ—Ç **–±–∏–Ω–∞—Ä–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞** —Å –≤–∞—à–∏–º –ª–æ–∫–∞–ª—å–Ω—ã–º –∫–ª–∞—Å—Ç–µ—Ä–æ–º YugabyteDB –≤–µ—Ä—Å–∏–∏ `2025.2.0.1`.

### ‚ö†Ô∏è –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –æ—à–∏–±–∫–∏ –Ω–∞ —ç—Ç–∞–ø–µ `configure`
–ï—Å–ª–∏ `configure` –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É –æ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `geos`, `proj`), —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
rpm -qa | grep -E "(geos|proj|gdal|libxml2)-devel"
```
–ï—Å–ª–∏ –∫–∞–∫–∏—Ö-—Ç–æ –ø–∞–∫–µ—Ç–æ–≤ –Ω–µ—Ç, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏—Ö –∑–∞–Ω–æ–≤–æ:
```bash
sudo yum install -y geos-devel proj-devel gdal-devel libxml2-devel
```

**–°–æ–æ–±—â–∏—Ç–µ, –∫–∞–∫ –ø—Ä–æ–π–¥—ë—Ç `configure` –∏ `make`.**
–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –º—ã –ø–µ—Ä–µ–π–¥—ë–º –∫ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—é –≥–æ—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ –≤–∞—à —Ä–∞–±–æ—á–∏–π –∫–ª–∞—Å—Ç–µ—Ä YugabyteDB.

```
–º—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è —Ç—É—Ç /_a/tmp/postgis-3.3.8
–¥–∞–ª–µ–µ –æ—Ç—Å—é–¥–∞
./configure --with-pgconfig=/_a/tmp/postgres/bin/pg_config
Using user-specified pg_config file: /_a/tmp/postgres/bin/pg_config
/_a/tmp/postgres/bin/pg_config: error while loading shared libraries: libunwind.so.1: cannot open shared object file: No such file or directory
configure: error: the PGXS Makefile  cannot be found. Please install the PostgreSQL server development packages and re-run configure.
[root@mongo-db3 postgis-3.3.8]# pwd
/_a/tmp/postgis-3.3.8
```

–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ `pg_config` –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –µ–º—É –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `libunwind.so.1`, –∫–æ—Ç–æ—Ä–∞—è –µ—Å—Ç—å –Ω–∞ –≤–∞—à–µ–π –æ—Å–Ω–æ–≤–Ω–æ–π –º–∞—à–∏–Ω–µ —Å YugabyteDB, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –Ω–∞ —á–∏—Å—Ç–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ CentOS 7.

### üîß –†–µ—à–µ–Ω–∏–µ: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É
–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `libunwind` –Ω—É–∂–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–∞–º–æ–≥–æ `pg_config` –∏–∑ YugabyteDB. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ—ë –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ CentOS 7:

```bash
sudo yum install -y libunwind
```

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–Ω–æ–≤–∞ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å `configure`:

```bash
./configure --with-pgconfig=/_a/tmp/postgres/bin/pg_config
```

### üí° –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ
–ö–æ–≥–¥–∞ –≤—ã —É–∫–∞–∑—ã–≤–∞–µ—Ç–µ `--with-pgconfig`, —Å–∫—Ä–∏–ø—Ç `configure` –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞, –Ω–æ –∏ **–∑–∞–ø—É—Å–∫–∞–µ—Ç –µ–≥–æ**, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–µ—Ä—Å–∏–∏ PostgreSQL, –ø—É—Ç—è—Ö –∫ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–º —Ñ–∞–π–ª–∞–º (`include`) –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º (`lib`). –ï—Å–ª–∏ `pg_config` –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π ‚Äî —Å–±–æ—Ä–∫–∞ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è.

### üöÄ –ï—Å–ª–∏ —ç—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç
–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `configure` –≤—ã —É–≤–∏–¥–∏—Ç–µ —Å–≤–æ–¥–Ω—É—é —Ç–∞–±–ª–∏—Ü—É —Å –Ω–∞–π–¥–µ–Ω–Ω—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ (GEOS, PROJ, GDAL –∏ —Ç.–¥.). –ó–∞—Ç–µ–º –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å:

```bash
make
```

### ‚ö†Ô∏è –ï—Å–ª–∏ –ø–æ—è–≤—è—Ç—Å—è –¥—Ä—É–≥–∏–µ –æ—à–∏–±–∫–∏ —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏
–í–ø–æ–ª–Ω–µ –≤–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ `pg_config` –∏–∑ YugabyteDB –∑–∞–≤–∏—Å–∏—Ç –∏ –æ—Ç –¥—Ä—É–≥–∏—Ö —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ `libssl` –∏–ª–∏ `libcrypto`). –ï—Å–ª–∏ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ `libunwind` –ø–æ—è–≤–∏—Ç—Å—è –Ω–æ–≤–∞—è –æ—à–∏–±–∫–∞ –æ –¥—Ä—É–≥–æ–π –Ω–µ–¥–æ—Å—Ç–∞—é—â–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ, **—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –≤—ã—Ö–æ–¥** ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª–∫—É –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–∞–∫–µ—Ç—ã –ø–æ –º–µ—Ä–µ –∏—Ö –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥–æ–π `sudo yum install -y <–∏–º—è_–ø–∞–∫–µ—Ç–∞>`.

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `libunwind` –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å `configure` —Å–Ω–æ–≤–∞. –°–æ–æ–±—â–∏—Ç–µ, —á—Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è.**

```
Using user-specified pg_config file: /_a/tmp/postgres/bin/pg_config
/_a/tmp/postgres/bin/pg_config: error while loading shared libraries: libunwind.so.1: cannot open shared object file: No such file or directory
configure: error: the PGXS Makefile  cannot be found. Please install the PostgreSQL server development packages and re-run configure.

```

–°–µ—Ä–≤–µ—Ä–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ YugabyteDB (`pg_config`) —Ç—Ä–µ–±—É—é—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (`libunwind.so.1`), –∫–æ—Ç–æ—Ä—ã–µ –≤ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ CentOS 7 –º–æ–≥—É—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å. –•–æ—Ç—è –º—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ `libunwind`, —ç—Ç–æ–≥–æ –æ–∫–∞–∑–∞–ª–æ—Å—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ. –û—à–∏–±–∫–∞ **"the PGXS Makefile cannot be found"** ‚Äî –ø—Ä—è–º–æ–µ —Å–ª–µ–¥—Å—Ç–≤–∏–µ —Ç–æ–≥–æ, —á—Ç–æ `pg_config` –Ω–µ —Å–º–æ–≥ –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è, —á—Ç–æ–±—ã —Å–æ–æ–±—â–∏—Ç—å `configure` –ø—É—Ç—å –∫ —ç—Ç–æ–º—É —Ñ–∞–π–ª—É.

–ï—Å—Ç—å —Ç—Ä–∏ —á—ë—Ç–∫–∏—Ö –ø—É—Ç–∏ —Ä–µ—à–µ–Ω–∏—è, –æ—Ç —Å–∞–º–æ–≥–æ –±—ã—Å—Ç—Ä–æ–≥–æ –∫ —Å–∞–º–æ–º—É –Ω–∞–¥—ë–∂–Ω–æ–º—É:

| –ü–æ–¥—Ö–æ–¥ | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –°—É—Ç—å |
| :--- | :--- | :--- |
| **–í–∞—Ä–∏–∞–Ω—Ç 1: –í—Ä—É—á–Ω—É—é —É–∫–∞–∑–∞—Ç—å –ø—É—Ç–∏ –¥–ª—è `configure`** | üü¢ –ü—Ä–æ—Å—Ç–æ | –ó–∞—Å—Ç–∞–≤–∏—Ç—å `configure` —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–µ –∑–∞–ø—É—Å–∫–∞—è `pg_config`. |
| **–í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞—Ç—å PGXS** | üü° –°—Ä–µ–¥–Ω–µ | –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –∏—â–µ—Ç `configure`. |
| **–í–∞—Ä–∏–∞–Ω—Ç 3: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –í–°–ï –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ YB** | üü¢ –ù–∞–¥—ë–∂–Ω–æ | –ü–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ YugabyteDB –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª–∫–µ. |

### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 1: –í—Ä—É—á–Ω—É—é —É–∫–∞–∑–∞—Ç—å –ø—É—Ç–∏ –¥–ª—è `configure` (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)
–ú—ã –º–æ–∂–µ–º –æ–±–æ–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É, –≤—Ä—É—á–Ω—É—é —Å–æ–æ–±—â–∏–≤ `configure` –ø—É—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ã—á–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç `pg_config`. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `configure` —Å —Ç–∞–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

```bash
./configure \
  --with-pgconfig=/_a/tmp/postgres/bin/pg_config \
  --with-includes=/_a/tmp/postgres/include \
  --with-libraries=/_a/tmp/postgres/lib \
  LDFLAGS="-L/_a/tmp/postgres/lib -Wl,-rpath,/_a/tmp/postgres/lib" \
  CPPFLAGS="-I/_a/tmp/postgres/include"
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:** –ú—ã —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º –ø—É—Ç–∏ –∫ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–º —Ñ–∞–π–ª–∞–º (`--with-includes`) –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º (`--with-libraries`) YugabyteDB, –∞ —Ç–∞–∫–∂–µ —Ñ–ª–∞–≥–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É –¥–ª—è –∏—Ö –ø–æ–∏—Å–∫–∞.

### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞—Ç—å PGXS Makefile
PGXS (PostgreSQL Extension Build Infrastructure) ‚Äî —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π. `configure` –∏—â–µ—Ç —Ñ–∞–π–ª `pgxs.mk`, –ø—É—Ç—å –∫ –∫–æ—Ç–æ—Ä–æ–º—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `pg_config`. –ï—Å–ª–∏ `pg_config` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤—Ä—É—á–Ω—É—é.

1.  **–£–∑–Ω–∞–π—Ç–µ, –≥–¥–µ –∏—Å–∫–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
    ```bash
    ls -la /_a/tmp/postgres/
    # –ù–∞–π–¥–∏—Ç–µ –∫–∞—Ç–∞–ª–æ–≥–∏ include –∏ lib
    ```

2.  **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `pgxs.mk` –≤ –ª—é–±–æ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/tmp/pgxs.mk`) —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º:
    ```makefile
    PG_CONFIG = /_a/tmp/postgres/bin/pg_config
    PGXS = $(shell $(PG_CONFIG) --pgxs)
    include $(PGXS)
    ```

3.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ `configure`, —É–∫–∞–∑–∞–≤ –ø—É—Ç—å –∫ —ç—Ç–æ–º—É —Ñ–∞–π–ª—É:**
    ```bash
    ./configure --with-pgconfig=/_a/tmp/postgres/bin/pg_config PGXS=/tmp/pgxs.mk
    ```

### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 3: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –í–°–ï —Å–∏—Å—Ç–µ–º–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ YugabyteDB (—Å–∞–º—ã–π –Ω–∞–¥—ë–∂–Ω—ã–π)
–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ `pg_config` –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –∫–∞–∫ –Ω–∞ —Ä–æ–¥–Ω–æ–π –º–∞—à–∏–Ω–µ. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å –≤–∞—à–µ–π –æ—Å–Ω–æ–≤–Ω–æ–π –º–∞—à–∏–Ω—ã (Rockey Linux) –≤ –≤–∏—Ä—Ç—É–∞–ª–∫—É –≤—Å–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –æ—Ç –∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–≤–∏—Å–∏—Ç YugabyteDB.

1.  **–ù–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –º–∞—à–∏–Ω–µ** –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ, –æ—Ç –∫–∞–∫–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –∑–∞–≤–∏—Å–∏—Ç `pg_config`:
    ```bash
    ldd /_a/yugabyte-2025.2.0.1/postgres/bin/pg_config
    ```
2.  **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏** (–∫—Ä–æ–º–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ç–∏–ø–∞ `libc.so.6`) –≤ –≤–∏—Ä—Ç—É–∞–ª–∫—É, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ç–æ—Ç –∂–µ `/_a/tmp/postgres/lib/`.
3.  **–ù–∞ –≤–∏—Ä—Ç—É–∞–ª–∫–µ** –¥–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –ø—É—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `LD_LIBRARY_PATH` –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º `configure`:
    ```bash
    export LD_LIBRARY_PATH=/_a/tmp/postgres/lib:$LD_LIBRARY_PATH
    ./configure --with-pgconfig=/_a/tmp/postgres/bin/pg_config
    ```

### üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
**–ù–∞—á–Ω–∏—Ç–µ —Å –í–∞—Ä–∏–∞–Ω—Ç–∞ 1.** –û–Ω —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã –∏ —Å –≤—ã—Å–æ–∫–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –ø–æ–∑–≤–æ–ª–∏—Ç `configure` –ø—Ä–æ–π—Ç–∏ –¥–∞–ª—å—à–µ –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ GEOS, PROJ –∏ –¥—Ä—É–≥–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.

–ï—Å–ª–∏ –∏ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –æ—à–∏–±–∫–∞, —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å PGXS, –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ **–í–∞—Ä–∏–∞–Ω—Ç—É 2**.

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –í–∞—Ä–∏–∞–Ω—Ç 1 –∏ —Å–æ–æ–±—â–∏—Ç–µ, —á—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å.**


