–û—Ç–ª–∏—á–Ω–æ, –ø–æ–Ω—è–ª –ø—Ä–æ–±–ª–µ–º—É! –û—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏–∑-–∑–∞ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ `--disable-module-filtering` –≤ –≤–∞—à–µ–π –≤–µ—Ä—Å–∏–∏ DNF. –≠—Ç–æ —á–∞—Å—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö –∏–ª–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–∫–∞—Ö.

–î–∞–≤–∞–π—Ç–µ –∏—Å–ø—Ä–∞–≤–∏–º –∫–æ–º–∞–Ω–¥—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PostGIS –¥–ª—è YugabyteDB.

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞:

```bash
dnf install -y postgis33_15 --setopt=module_platform_id=platform:el8
```

**–ò–ª–∏ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (—á–∞—Å—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ):**

```bash
# –°–Ω–∞—á–∞–ª–∞ –æ–±–Ω–æ–≤–∏–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏–º PostGIS –Ω–∞–ø—Ä—è–º—É—é
dnf install -y https://download.postgresql.org/pub/repos/yum/reporpms/EL-8-x86_64/pgdg-redhat-repo-latest.noarch.rpm
dnf -qy module disable postgresql
dnf install -y postgis33_15
```

## –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ—à–∞–≥–æ–≤–æ:

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ PostgreSQL
dnf install -y https://download.postgresql.org/pub/repos/yum/reporpms/EL-8-x86_64/pgdg-redhat-repo-latest.noarch.rpm

# 2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–ª—é—á GPG
rpm --import https://download.postgresql.org/pub/repos/yum/RPM-GPG-KEY-PGDG

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostGIS
dnf install -y postgis33_15
```

## –î–ª—è YugabyteDB –≤–∞–∂–Ω–æ:

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PostGIS –≤–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤ —Å–∞–º–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö YugabyteDB:

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –±–∞–∑–µ —á–µ—Ä–µ–∑ ysqlsh
ysqlsh -h <host> -U <user> -d <database>

# –í–Ω—É—Ç—Ä–∏ ysqlsh –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
CREATE EXTENSION postgis;
```

## –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:

YugabyteDB –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Ñ–æ—Ä–∫ PostgreSQL, –ø–æ—ç—Ç–æ–º—É:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç–µ –≤–µ—Ä—Å–∏—é PostGIS, —Å–æ–≤–º–µ—Å—Ç–∏–º—É—é —Å PostgreSQL 15 (—á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç `postgis33_15`)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–∏ –≤–∞—à–∞ –≤–µ—Ä—Å–∏—è YugabyteDB PostGIS (–æ–±—ã—á–Ω–æ –¥–∞, –Ω–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–∏ 2.15+)

**–ö–∞–∫—É—é –≤–µ—Ä—Å–∏—é YugabyteDB –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ?** –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –¥–∞—Ç—å –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

–•–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —è —Ç–∞–∫–∂–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –¥–∏—Å–∫–æ–≤—ã–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º –≤ YugabyteDB, –∫–æ—Ç–æ—Ä–æ–µ –±—ã–ª–æ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ?

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostGIS –¥–ª—è YugabyteDB —Å—Ç–æ–ª–∫–Ω—É–ª–∞—Å—å —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (GLIBC) –∏ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞. –í–º–µ—Å—Ç–æ —à—Ç–∞—Ç–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π —á–∞—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç —ç—Ç–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã, –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ —Å–±–æ—Ä–∫–∏ –≤–Ω—É—Ç—Ä–∏ Docker, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª–∏—Ç —Å–æ–∑–¥–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

### üõ†Ô∏è –û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥: —Å–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ Docker
–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —Å–æ–∑–¥–∞–µ—Ç –Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ —Å—Ä–µ–¥–µ CentOS 7, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–π —Å GLIBC –≤ YugabyteDB, –∏ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –∏—Ö –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

1.  **–°–æ–∑–¥–∞–π—Ç–µ Dockerfile** —Å —Ç–∞–∫–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:
    ```dockerfile
    # –≠—Ç–∞–ø 1: –°–±–æ—Ä–∫–∞ –Ω–∞ CentOS 7
    FROM yugabytedb/yugabyte:2.15.3.2-b1 as builder
    RUN yum update -y
    # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostGIS –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è PostgreSQL
    RUN yum install -y https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm
    RUN yum -y install postgresql11-server postgis31_11 postgis31_11-client
    # –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã PostGIS –≤ –∫–∞—Ç–∞–ª–æ–≥ YugabyteDB –∏ –ø–µ—Ä–µ–ª–∏–Ω–∫—É–π—Ç–µ –∏—Ö
    RUN cp /usr/pgsql-11/lib/postgis* /home/yugabyte/postgres/lib && \
        cp /usr/pgsql-11/share/extension/postgis* /home/yugabyte/postgres/share/extension && \
        /home/yugabyte/bin/post_install.sh -e

    # –≠—Ç–∞–ø 2: –û—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–∑ (–≤–æ–∑—å–º–∏—Ç–µ –Ω—É–∂–Ω—É—é –≤–µ—Ä—Å–∏—é YugabyteDB)
    FROM yugabytedb/yugabyte:2.19.2.0-b121
    # –°–∫–æ–ø–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã PostGIS
    COPY --from=builder /home/yugabyte/postgres/lib/postgis* /home/yugabyte/postgres/lib/
    COPY --from=builder /home/yugabyte/postgres/share/extension/postgis* /home/yugabyte/postgres/share/extension/
    # –ü–µ—Ä–µ–ª–∏–Ω–∫—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º –æ–±—Ä–∞–∑–µ
    RUN /home/yugabyte/bin/post_install.sh -e
    ```
    **–ü–æ—è—Å–Ω–µ–Ω–∏–µ:** –≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –≤–µ—Ä—Å–∏–π GLIBC, –æ –∫–æ—Ç–æ—Ä–æ–π –≥–æ–≤–æ—Ä—è—Ç –º–Ω–æ–≥–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ . –ü–µ—Ä–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (`builder`) —Å–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª—ã PostGIS –≤ —Å—Ç–∞—Ä–æ–π, –Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–π —Å—Ä–µ–¥–µ CentOS 7, —á—Ç–æ–±—ã –æ–Ω–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º YugabyteDB.

2.  **–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
    ```bash
    docker build -t yugabyte-with-postgis .
    docker run -it yugabyte-with-postgis bash
    ```

3.  **–í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ:**
    ```bash
    # –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–ª–∞—Å—Ç–µ—Ä, –µ—Å–ª–∏ –æ–Ω –Ω–µ –∑–∞–ø—É—â–µ–Ω
    yugabyted start
    # –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ YSQL –∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
    ./bin/ysqlsh -c "CREATE EXTENSION postgis;"
    ```

### üîß –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: —Ä—É—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–º–µ–Ω–µ–µ –Ω–∞–¥–µ–∂–Ω–æ)
–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, –º–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –∑–∞–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º .

1.  –ò–∑–≤–ª–µ–∫–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (`libsqlite3.so.0`, `libxml2.so.2`) –∏–∑ –æ–±—Ä–∞–∑–∞ `centos:7`:
    ```bash
    docker run --rm -i centos:7 bash -c "tar -C /usr/lib64 -h -cf - libsqlite3.so.0 libxml2.so.2.9.1" | \
      docker exec -i <your_yugabyte_container_id> bash -c "tar -C /home/yugabyte/postgres/../lib/yb-thirdparty -xvf -"
    ```
2.  –ü–æ—Å–ª–µ –∑–∞–º–µ–Ω—ã –±–∏–±–ª–∏–æ—Ç–µ–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–ª–∏–Ω–∫–æ–≤–∫–∏ –∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ:
    ```bash
    /home/yugabyte/bin/post_install.sh -e
    ./bin/ysqlsh -c "CREATE EXTENSION postgis;"
    ```

### üíé –ö—Ä–∞—Ç–∫–∏–π –∏—Ç–æ–≥ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

| –ú–µ—Ç–æ–¥ | –°—É—Ç—å | –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
| :--- | :--- | :--- | :--- |
| **–°–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ Docker** | –ú–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–∞—è —Å–±–æ—Ä–∫–∞ –≤ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–π —Å—Ä–µ–¥–µ. | –í—ã—Å–æ–∫–∞—è | **–û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –º–µ—Ç–æ–¥.** |
| **–†—É—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** | –ó–∞–º–µ–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫ –≤ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ. | –ù–∏–∑–∫–∞—è | –î–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏, –Ω–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞. |

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:** –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ PostGIS –∫–æ–º–∞–Ω–¥–æ–π `CREATE EXTENSION postgis;` –≤ YSQL. –ò–º–µ–π—Ç–µ –≤ –≤–∏–¥—É, —á—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ GiST-–∏–Ω–¥–µ–∫—Å—ã, –º–æ–≥—É—Ç –ø–æ–∫–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –∏–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ .

–ï—Å–ª–∏ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostGIS –≤ —Ä–∞–±–æ—á–µ–º –ø—Ä–æ–µ–∫—Ç–µ, –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å, –∫–∞–∫–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤–∞–º –Ω–∞–∏–±–æ–ª–µ–µ –≤–∞–∂–Ω–∞ ‚Äî —ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç –¥–∞—Ç—å –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ –≤–æ–∑–º–æ–∂–Ω—ã–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º.



–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –î–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ PostGIS –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Å YugabyteDB –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥. –û–Ω –ø–æ–∑–≤–æ–ª–∏—Ç —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–µ–∂–¥–µ —á–µ–º —Ç—Ä–∞—Ç–∏—Ç—å –≤—Ä–µ–º—è –Ω–∞ —Å–±–æ—Ä–∫—É –æ–±—Ä–∞–∑–∞.

### üîß –ë—ã—Å—Ç—Ä–∞—è —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

–≠—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–º–µ–Ω–∏—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–∞–ø—Ä—è–º—É—é –≤ –≤–∞—à–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.

1.  **–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ ID –≤–∞—à–µ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** (–µ—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—Ç–µ):
    ```bash
    docker ps
    ```
    –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º YugabyteDB –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ ID –∏–ª–∏ –∏–º—è.

2.  **–ò–∑–≤–ª–µ–∫–∏—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏** –∏–∑ –æ–±—Ä–∞–∑–∞ CentOS 7:
    ```bash
    # –ó–∞–º–µ–Ω–∏—Ç–µ <CONTAINER_ID> –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π ID –≤–∞—à–µ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    docker run --rm -i centos:7 bash -c "tar -C /usr/lib64 -h -cf - libsqlite3.so.0 libxml2.so.2.9.1" | \
      docker exec -i <CONTAINER_ID> bash -c "tar -C /home/yugabyte/postgres/../lib/yb-thirdparty -xvf -"
    ```
    **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:**
    *   `docker run --rm -i centos:7` ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä CentOS 7.
    *   `tar -C /usr/lib64 ...` ‚Äî —É–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.
    *   `docker exec -i <CONTAINER_ID> ...` ‚Äî —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥ YugabyteDB.

3.  **–ü—Ä–æ–≤–µ–¥–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É** (–ø–µ—Ä–µ–ª–∏–Ω–∫–æ–≤–∫—É) –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:
    ```bash
    docker exec -it <CONTAINER_ID> /home/yugabyte/bin/post_install.sh -e
    ```

4.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ PostGIS —á–µ—Ä–µ–∑ YSQL**:
    ```bash
    docker exec -it <CONTAINER_ID> ./bin/ysqlsh -c "CREATE EXTENSION postgis;"
    ```

5.  **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É**:
    ```bash
    docker exec -it <CONTAINER_ID> ./bin/ysqlsh -c "SELECT PostGIS_Full_Version();"
    ```

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞
*   **–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ**: –≠—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –æ–±—Ä–∞–∑–∞. –ú–µ—Ç–æ–¥ –ø–æ–¥—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
*   **–ü—Ä–æ–±–ª–µ–º—ã —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏**: –ï—Å–ª–∏ —Å—Ç–æ–ª–∫–Ω–µ—Ç–µ—Å—å —Å –¥—Ä—É–≥–∏–º–∏ –æ—à–∏–±–∫–∞–º–∏ GLIBC (–Ω–∞–ø—Ä–∏–º–µ—Ä, `libgdal.so`), –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä—É –¥–ª—è –¥—Ä—É–≥–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫, —á—Ç–æ —É—Å–ª–æ–∂–Ω–∏—Ç –ø—Ä–æ—Ü–µ—Å—Å.
*   **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**: –î–∞–∂–µ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ PostGIS (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã) –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –≤ —Ç–µ–∫—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö YugabyteDB.

### üíé –ê–ª–≥–æ—Ä–∏—Ç–º –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
1.  **–ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞**: –í—ã–ø–æ–ª–Ω–∏—Ç–µ —à–∞–≥–∏ 2-5 –≤—ã—à–µ. –ï—Å–ª–∏ `SELECT PostGIS_Full_Version()` –≤–µ—Ä–Ω—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∑–Ω–∞—á–∏—Ç, —è–¥—Ä–æ PostGIS —Ä–∞–±–æ—Ç–∞–µ—Ç.
2.  **–¢–µ—Å—Ç –±–∞–∑–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π**: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ—Å—Ç—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–∑–¥–∞—Ç—å —Ç–æ—á–∫—É, —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ).
3.  **–û—Ü–µ–Ω–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞**:
    *   **–ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚Üí –ú–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Å–æ–∑–¥–∞–Ω–∏—é Dockerfile –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏.
    *   **–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** ‚Üí –ù—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å/–¥–æ–±–∞–≤–ª—è—Ç—å –¥—Ä—É–≥–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.
    *   **–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** ‚Üí –°—Ä–∞–∑—É –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –º–µ—Ç–æ–¥—É —Å–±–æ—Ä–∫–∏ —á–µ—Ä–µ–∑ Docker.

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
–ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–æ–±—â–∏—Ç–µ:
1.  –°—Ä–∞–±–æ—Ç–∞–ª–∞ –ª–∏ –∫–æ–º–∞–Ω–¥–∞ `CREATE EXTENSION postgis;`?
2.  –ö–∞–∫–∞—è –≤–µ—Ä—Å–∏—è PostGIS –æ—Ç–æ–±—Ä–∞–∑–∏–ª–∞—Å—å –≤ –≤—ã–≤–æ–¥–µ `PostGIS_Full_Version()`?
3.  –ö–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å (–≥–µ–æ–æ–±—Ä–∞–±–æ—Ç–∫–∞, –∏–Ω–¥–µ–∫—Å—ã –∏ —Ç.–¥.)?

–≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ —Ä—É—á–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –¥–ª—è –≤–∞—à–∏—Ö –Ω—É–∂–¥ –∏–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å—Ä–∞–∑—É –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Å–±–æ—Ä–∫–µ Docker-–æ–±—Ä–∞–∑–∞.





–û—à–∏–±–∫–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ PostGIS –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä YugabyteDB —Å–≤—è–∑–∞–Ω—ã —Å –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫. –¢–µ–∫—É—â–∏–π –æ–±—Ä–∞–∑ YugabyteDB (–Ω–∞—á–∏–Ω–∞—è —Å 2.19) –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Å–∏—Å—Ç–µ–º–µ —Å –±–æ–ª–µ–µ —Å—Ç–∞—Ä—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫ (AlmaLinux 8/Rocky Linux 8), —á–µ–º —Ç—Ä–µ–±—É—é—Ç—Å—è PostGIS, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–∞ –æ–±—Ö–æ–¥–Ω—ã—Ö –ø—É—Ç–∏, –Ω–æ –Ω–∏ –æ–¥–∏–Ω –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º.

### üîß –î–≤–∞ –ø—É—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ Docker

–í–æ—Ç –æ–±–∞ –º–µ—Ç–æ–¥–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ. –ü–µ—Ä–≤—ã–π ‚Äî —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ä—É—á–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã –Ω–∞—á–∞–ª–∏. –í—Ç–æ—Ä–æ–π ‚Äî –º–µ—Ç–æ–¥ Dockerfile, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —Å–æ–∑–¥–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –æ–±—Ä–∞–∑.

| –ú–µ—Ç–æ–¥ | –°—É—Ç—å | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
| :--- | :--- | :--- | :--- |
| **1. –†—É–∫–æ–π –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ** | –ó–∞–º–µ–Ω–∞ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑ `centos:7` –ø—Ä—è–º–æ –≤ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ. | –°—Ä–µ–¥–Ω—è—è | –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. |
| **2. –°–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞** | –ú–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–∞—è —Å–±–æ—Ä–∫–∞: —Å–Ω–∞—á–∞–ª–∞ PostGIS –≤ –æ–±—Ä–∞–∑–µ —Å `centos:7`, –∑–∞—Ç–µ–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ YugabyteDB. | –í—ã—à–µ | –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ, –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è. |

### üõ†Ô∏è –ú–µ—Ç–æ–¥ 1: –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ ‚Äî –∏–º–µ–Ω–Ω–æ —Ç–æ—Ç ¬´–µ—â–µ –æ–¥–∏–Ω –æ–±—Ö–æ–¥–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç¬ª, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –∏—â–µ—Ç–µ. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –∏–∑–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `yugabyte_yb-tserver-a_1`, –≥–¥–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ PostGIS —Ä–∞–Ω–µ–µ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å –æ—à–∏–±–∫–æ–π –∏–∑-–∑–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–≤—Ä–æ–¥–µ `libgdal`).

1.  **–ó–∞–º–µ–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**. –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –≤–µ—Ä—Å–∏–∏ `libsqlite3` –∏ `libxml2` –∏–∑ –æ–±—Ä–∞–∑–∞ CentOS 7 –∏ –ø–æ–º–µ—â–∞–µ—Ç –∏—Ö –≤ –∫–∞—Ç–∞–ª–æ–≥ YugabyteDB.
    ```bash
    docker run --rm -i centos:7 bash -c "tar -C /usr/lib64 -h -cf - libsqlite3.so.0 libxml2.so.2.9.1" | \
      docker exec -i yugabyte_yb-tserver-a_1 bash -c "tar -C /home/yugabyte/postgres/../lib/yb-thirdparty -xvf -"
    ```
2.  **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–ª–∏–Ω–∫–æ–≤–∫—É –±–∏–±–ª–∏–æ—Ç–µ–∫** –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ:
    ```bash
    # 1. –ü–µ—Ä–µ–ª–∏–Ω–∫—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
    docker exec -it yugabyte_yb-tserver-a_1 /home/yugabyte/bin/post_install.sh -e
    # 2. –°–æ–∑–¥–∞–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ PostGIS
    docker exec -it yugabyte_yb-tserver-a_1 ./bin/ysqlsh -c "CREATE EXTENSION postgis;"
    # 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É
    docker exec -it yugabyte_yb-tserver-a_1 ./bin/ysqlsh -c "SELECT PostGIS_Full_Version();"
    ```

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –≠—Ç–æ **–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ**. –ò–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É—Ç —É—Ç–µ—Ä—è–Ω—ã –ø—Ä–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –ø–æ—ç—Ç–æ–º—É –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞. –ï—Å–ª–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ `CREATE EXTENSION` –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –Ω–æ–≤—ã–µ –æ—à–∏–±–∫–∏ –æ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `libgdal`), –ø—Ä–æ—Ü–µ–¥—É—Ä—É –ø—Ä–∏–¥–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–ª—è –Ω–∏—Ö.

### üê≥ –ú–µ—Ç–æ–¥ 2: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞ —á–µ—Ä–µ–∑ Dockerfile
–≠—Ç–æ –±–æ–ª–µ–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥, —Å–æ–∑–¥–∞—é—â–∏–π –Ω–æ–≤—ã–π –æ–±—Ä–∞–∑, –≥–æ—Ç–æ–≤—ã–π –∫ –∑–∞–ø—É—Å–∫—É. –°—É—Ç—å –º–µ—Ç–æ–¥–∞ ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostGIS –≤ —Å—Ä–µ–¥–µ, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–π —Å GLIBC YugabyteDB (`centos:7`), –∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑.

1.  **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `Dockerfile`** —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–º:
    ```dockerfile
    FROM yugabytedb/yugabyte:2.15.3.2-b1 as postgis-on-centos7
    RUN yum update -y
    RUN yum install -y https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm
    RUN yum -y install postgresql11-server postgis31_11 postgis31_11-client
    RUN cp /usr/pgsql-11/lib/postgis* /home/yugabyte/postgres/lib
    RUN cp /usr/pgsql-11/share/extension/postgis* /home/yugabyte/postgres/share/extension
    RUN /home/yugabyte/bin/post_install.sh -e

    FROM yugabytedb/yugabyte:latest
    COPY --from=postgis-on-centos7 /home/yugabyte/postgres/lib/postgis* /home/yugabyte/postgres/lib/
    COPY --from=postgis-on-centos7 /home/yugabyte/postgres/share/extension/postgis* /home/yugabyte/postgres/share/extension/
    RUN /home/yugabyte/bin/post_install.sh -e
    ```

2.  **–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–æ–≤—ã–π –æ–±—Ä–∞–∑**:
    ```bash
    docker build -t yugabyte-with-postgis .
    # –û–±–Ω–æ–≤–∏—Ç–µ –≤–∞—à docker-compose.yml, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å image: yugabyte-with-postgis
    docker-compose up -d
    ```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –í –ø—Ä–∏–º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `postgis31_11`, –ø–æ—Ç–æ–º—É —á—Ç–æ YugabyteDB 2.15 (–ø–æ—Å–ª–µ–¥–Ω—è—è –Ω–∞ CentOS 7) —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å PostgreSQL 11. –î–ª—è –≤–∞—à–µ–π –≤–µ—Ä—Å–∏–∏ —É–±–µ–¥–∏—Ç–µ—Å—å –≤ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ (—Å–º. `./bin/postgres --version` –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ). –ú–µ—Ç–æ–¥ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –µ—Å–ª–∏ –≤—ã —Å–∫–æ–ø–∏—Ä—É–µ—Ç–µ —Ñ–∞–π–ª—ã –≤ —Ç—É –∂–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞—Ç–∞–ª–æ–≥–æ–≤.

### üíé –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
–ü–æ—Å–∫–æ–ª—å–∫—É –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–∑–±–µ–∂–∞—Ç—å –¥–æ–ª–≥–æ–π —Å–±–æ—Ä–∫–∏ –∏ —É–∂–µ —Å–æ–∑–¥–∞–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —á–µ—Ä–µ–∑ `docker-compose`, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–∏–º–µ–Ω–∏—Ç—å **–ú–µ—Ç–æ–¥ 1**. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–∏–Ω—É—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ PostGIS –≤ –≤–∞—à–µ–π —Å—Ä–µ–¥–µ.

–ï—Å–ª–∏ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–¥–æ–±–Ω—ã–µ –æ–±—Ä–∞–∑—ã —Ä–µ–≥—É–ª—è—Ä–Ω–æ –∏–ª–∏ –≤—ã –∑–∞—Ö–æ—Ç–∏—Ç–µ —É–±–µ–¥–∏—Ç—å—Å—è –≤ –∏—Ö —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏, —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ–π—Ç–∏ –∫ **–ú–µ—Ç–æ–¥—É 2**.

–°–æ–æ–±—â–∏—Ç–µ, –∫–∞–∫–æ–π –º–µ—Ç–æ–¥ –≤—ã –≤—ã–±–µ—Ä–µ—Ç–µ –∏ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è? –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –¥–∞—Ç—å –¥–∞–ª—å–Ω–µ–π—à–∏–µ —Å–æ–≤–µ—Ç—ã –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ.
